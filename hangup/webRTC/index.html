<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <title>Page Title</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />
    </head>
    <body>
        <video
            id="video"
            controls=""
            preload="none"
            poster="https://media.w3.org/2010/05/sintel/poster.png"
        >
            <source
                id="mp4"
                src="https://media.w3.org/2010/05/sintel/trailer.mp4"
                type="video/mp4"
            />
            <source
                id="webm"
                src="https://media.w3.org/2010/05/sintel/trailer.webm"
                type="video/webm"
            />
            <source
                id="ogv"
                src="https://media.w3.org/2010/05/sintel/trailer.ogv"
                type="video/ogg"
            />

            <p>Your user agent does not support the HTML5 Video element.</p>
        </video>

        <p>Say : Play / Stop / Mute / Unmute</p>

        <script>
            
            var video = document.querySelector("#video");
            // var remoteControl = new RemoteControl(video);
            var recognition = new webkitSpeechRecognition();
            recognition.continuous = true;
            recognition.interimResults = true;
            recognition.lang = "en-US";
            recognition.continuous = true;
            recognition.start();

            recognition.onresult = function (event) {
                for (var i = event.resultIndex; i < event.results.length; ++i) {
                    if (event.results[i].isFinal) {
                        if (event.results[i][0].transcript.trim() == "play") {
                            alert('Command:: PLAY recognized');
                        }
                        if (event.results[i][0].transcript.trim() == "stop") {
                            alert('Command:: STOP recognized');
                        }
                        if (event.results[i][0].transcript.trim() == "mute") {
                            alert('Command:: MUTE recognized');
                        }
                        if (event.results[i][0].transcript.trim() == "unmute") {
                            alert('Command:: UNMUTE recognized');
                        }

                        console.info(
                            `You said : ${event.results[i][0].transcript}`
                        );
                    }
                }
            };
        </script>
    </body>
</html>
